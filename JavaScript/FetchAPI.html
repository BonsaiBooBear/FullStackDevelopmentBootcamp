<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fetch</title>
  <meta name="color-scheme" content="dark light">
</head>
<body>
  <h1>Fetch</h1>
  <hr>

  <h2>Posts</h2>

  <div id="post-list"></div>
  
  <script>
    // let USERS = []
    // fetch('https://jsonplaceholder.typicode.com/users')
    //     .then(res => res.json())
    //     .then(data => {
    //       USERS = data
    //       console.log(USERS.map(u => u.name))
    //     })
    //     .catch(error => console.log('Error occurred', error))

    /* ---------------------------------- */
    // let USERS = []
    // fetch('https://jsonplaceholder.typicode.com/posts')
    //     .then(res => res.json())
    //     .then(data => {
    //       data.forEach(element => {
    //         console.log(element.title)
    //       });
    //     })
    //     .catch(error => console.log('Error occurred', error))

    /* ---------------------------------- */
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(res => res.json())
      .then(data => {
        data.forEach(post => {
          createPostView(post.id, post.title, post.body)
        });
      })
      .catch(error => console.log('Error occurred', error))
    const POSTS = []

    function createPostView(id, title, body) {
      const postList = document.getElementById('post-list')
      const titleh3 = document.createElement('h3')
      titleh3.innerText = `Post ${id}: ${title}`
      const bodyp = document.createElement('p')
      bodyp.innerText = body
      const hr = document.createElement('hr')

      postList.append( titleh3, bodyp, hr)
    }

    // createPostView(1, "sunt aut facere repellat provident occaecati excepturi optio reprehenderit", "quia et suscipit suscipit recusandae consequuntur expedita et cum reprehenderit molestiae ut ut quas totam nostrum rerum est autem sunt rem eveniet architecto")
    
  </script>
</body>
</html>
<br><br>
<hr>

<h2>Notes From Live Session</h2>
<pre>
/*
  # Fetch: Can be used to make API requests to get external data
    - Works on promise principle
    - Syntax:
      fetch(API_URL)
        .then((response) => response.json())
        .then((data) => USERS = data
        .catch((error) => console.log(error))

  # API: Application Programming Interface
    - Medium for data exchange between the client (frontend) and the server (backend)
      - Client -> Server: Request
      - Server -> Client: Response

*/
</pre>